<!DOCTYPE html>
<!--
https://github.com/SoftwareAddictionShow/html-subresource-integrity
-->
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Subresource Integrity</title>
		<link type="text/css" href="styles.css" media="screen" rel="Stylesheet" />
		<link href="themes/obsidian.css" rel="stylesheet" type="text/css" media="screen" />
	</head>
	<body>
		<span id="forkongithub">
			<a href="https://github.com/SoftwareAddictionShow/subresource-integrity">Fork me on GitHub</a>
		</span>

		<h1>Subresource Integrity</h1>

		<p>
			Verify that HTML script and link resources have not been modified.
		</p>

		<pre><code data-language="html">
&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"
	integrity="sha384-K+ctZQ+LL8q6tP7I94W+qzQsfRV2a+AfHIi9k8z8l9ggpc8X+Ytst4yBo/hH+8Fk"
	crossorigin="anonymous"&gt;&lt;/script&gt;
		</code></pre>

		<p>
			<button id="loadGood">Load script with good integrity</button><span id="statusGood"></span>
		</p>

		<p>
			<button id="loadBad">Load script with bad integrity</button><span id="statusBad"></span>
		</p>

		<h2>Sources:</h2>
		<p>
			<a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">
				https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity
			</a>
		</p>
		<p>
			<a href="https://www.srihash.org/">https://www.srihash.org/</a>
		</p>
		<p>
			<a href="http://caniuse.com/#feat=subresource-integrity">http://caniuse.com/#feat=subresource-integrity</a>
		</p>
	</body>
	<script src="js/rainbow.js"></script>
	<script src="js/language/html.js"></script>
	<script>
		document.querySelector('#loadGood').addEventListener('click', function() {
			var script = document.createElement('script');
			document.head.appendChild(script);
			script.onload = function() {
				document.querySelector('#statusGood').innerHTML = 'Loaded ' + this.src;
			};
			script.onerror = function(e) {
				document.querySelector('#statusGood').innerHTML = 'Failed to load ' + this.src;
			};
			script.setAttribute('crossorigin', "anonymous");
			script.setAttribute('integrity', "sha384-YBgalm8SLGVeEQrCdsEB9HYQQ/aQMkdH4SqO/KepvPzYtbUUCI8l5wpxFzIfD/6Y");
			script.src = "https://ajax.googleapis.com/ajax/libs/threejs/r69/three.min.js";
		});

		document.querySelector('#loadBad').addEventListener('click', function() {
			var script = document.createElement('script');
			document.head.appendChild(script);
			script.onload = function() {
				document.querySelector('#statusBad').innerHTML = 'Loaded ' + this.src;
			};
			script.onerror = function(e) {
				document.querySelector('#statusBad').innerHTML = 'Failed to load ' + this.src;
			};
			script.setAttribute('crossorigin', "anonymous");
			script.setAttribute('integrity', "sha384-baaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaad");
			script.src = "https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js";
		});
	</script>
</html>
